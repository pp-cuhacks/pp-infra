cd /
cd pp-cuhacks

git remote update
STATUS=`git status -uno | grep behind`

if [[ -z $STATUS ]]     # if branch is up to date, do nothing
then
    echo "do nothing"
else
    git fetch --all
    git add .
    git reset --hard 
    git pull
    npm i
    npm run build
fi


cd ../pp-api

git fetch --all
git add .
git reset --hard
git pull
npm i
cp ../pp-cuhacks/build ./build
npm run build
if [[ $(ps aux | grep nodemon | wc -l) == 1 ]]
then
    nodemon server
fi